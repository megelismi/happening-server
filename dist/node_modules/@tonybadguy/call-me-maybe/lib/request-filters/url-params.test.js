'use strict';

var _test = require('tap').test;
var _urlParams = require('./url-params');

_test('Noop on basic Url', function (assert) {
  var result = _urlParams.filter({
    url: 'https://www.google.com'
  });

  assert.equals(result.url, 'https://www.google.com/');
  assert.end();
});

_test('UrlParams update request url', function (assert) {
  var result = _urlParams.filter({
    url: 'https://www.google.com/{resource}/{id}',
    urlParams: {
      resource: 'someResource',
      id: '123'
    }
  });

  assert.equals(result.url, 'https://www.google.com/someResource/123');
  assert.end();
});

_test('UrlParams url encode urlParams', function (assert) {
  var result = _urlParams.filter({
    url: 'https://www.google.com/{resource}',
    urlParams: {
      resource: 'some resource'
    }
  });

  assert.equals(result.url, 'https://www.google.com/some%20resource');
  assert.end();
});

_test('Original url gets url encoded', function (assert) {
  var result = _urlParams.filter({
    url: 'https://www.google.com/foo bar'
  });

  assert.equals(result.url, 'https://www.google.com/foo%20bar');
  assert.end();
});

_test('UrlParams unchanged', function (assert) {
  var request = {
    url: 'https://www.google.com/{resource}',
    urlParams: {
      resource: 'oh hai'
    }
  };

  var result = _urlParams.filter(request);

  assert.equals(request.urlParams.resource, 'oh hai');
  assert.end();
});
//# sourceMappingURL=url-params.test.js.map