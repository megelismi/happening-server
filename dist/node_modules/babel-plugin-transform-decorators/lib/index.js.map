{"version":3,"sources":["../../../../node_modules/babel-plugin-transform-decorators/lib/index.js"],"names":["exports","__esModule","_create","require","_create2","_interopRequireDefault","_getIterator2","_getIterator3","default","_ref","t","types","cleanDecorators","decorators","reverse","map","dec","expression","transformClass","path","ref","state","nodes","classDecorators","node","_iterator","_isArray","Array","isArray","_i","_ref2","length","next","done","value","decorator","push","buildClassDecorator","CLASS_REF","DECORATOR","_iterator2","get","_isArray2","_i2","_ref3","method","_alias","toKeyAlias","remove","alias","items","hasDecorators","isClass","_iterator3","body","_isArray3","_i3","_ref4","isObjectExpression","_iterator4","properties","_isArray4","_i4","_ref5","prop","doError","buildCodeFrameError","inherits","visitor","ClassExpression","_babelHelperExplodeClass2","scope","generateDeclaredUidIdentifier","assignmentExpression","concat","replaceWith","sequenceExpression","ClassDeclaration","id","expr","expressionStatement","insertAfter","ObjectExpression","_babelTemplate","_babelTemplate2","_babelHelperExplodeClass","obj","module"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  function cleanDecorators(decorators) {\n    return decorators.reverse().map(function (dec) {\n      return dec.expression;\n    });\n  }\n\n  function transformClass(path, ref, state) {\n    var nodes = [];\n\n    state;\n\n    var classDecorators = path.node.decorators;\n    if (classDecorators) {\n      path.node.decorators = null;\n      classDecorators = cleanDecorators(classDecorators);\n\n      for (var _iterator = classDecorators, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n        var _ref2;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref2 = _i.value;\n        }\n\n        var decorator = _ref2;\n\n        nodes.push(buildClassDecorator({\n          CLASS_REF: ref,\n          DECORATOR: decorator\n        }));\n      }\n    }\n\n    var map = (0, _create2.default)(null);\n\n    for (var _iterator2 = path.get(\"body.body\"), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref3;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref3 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref3 = _i2.value;\n      }\n\n      var method = _ref3;\n\n      var decorators = method.node.decorators;\n      if (!decorators) continue;\n\n      var _alias = t.toKeyAlias(method.node);\n      map[_alias] = map[_alias] || [];\n      map[_alias].push(method.node);\n\n      method.remove();\n    }\n\n    for (var alias in map) {\n      var items = map[alias];\n\n      items;\n    }\n\n    return nodes;\n  }\n\n  function hasDecorators(path) {\n    if (path.isClass()) {\n      if (path.node.decorators) return true;\n\n      for (var _iterator3 = path.node.body.body, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n        var _ref4;\n\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) break;\n          _ref4 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) break;\n          _ref4 = _i3.value;\n        }\n\n        var method = _ref4;\n\n        if (method.decorators) {\n          return true;\n        }\n      }\n    } else if (path.isObjectExpression()) {\n      for (var _iterator4 = path.node.properties, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n        var _ref5;\n\n        if (_isArray4) {\n          if (_i4 >= _iterator4.length) break;\n          _ref5 = _iterator4[_i4++];\n        } else {\n          _i4 = _iterator4.next();\n          if (_i4.done) break;\n          _ref5 = _i4.value;\n        }\n\n        var prop = _ref5;\n\n        if (prop.decorators) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  function doError(path) {\n    throw path.buildCodeFrameError(\"Decorators are not officially supported yet in 6.x pending a proposal update.\\nHowever, if you need to use them you can install the legacy decorators transform with:\\n\\nnpm install babel-plugin-transform-decorators-legacy --save-dev\\n\\nand add the following line to your .babelrc file:\\n\\n{\\n  \\\"plugins\\\": [\\\"transform-decorators-legacy\\\"]\\n}\\n\\nThe repo url is: https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy.\\n    \");\n  }\n\n  return {\n    inherits: require(\"babel-plugin-syntax-decorators\"),\n\n    visitor: {\n      ClassExpression: function ClassExpression(path) {\n        if (!hasDecorators(path)) return;\n        doError(path);\n\n        (0, _babelHelperExplodeClass2.default)(path);\n\n        var ref = path.scope.generateDeclaredUidIdentifier(\"ref\");\n        var nodes = [];\n\n        nodes.push(t.assignmentExpression(\"=\", ref, path.node));\n\n        nodes = nodes.concat(transformClass(path, ref, this));\n\n        nodes.push(ref);\n\n        path.replaceWith(t.sequenceExpression(nodes));\n      },\n      ClassDeclaration: function ClassDeclaration(path) {\n        if (!hasDecorators(path)) return;\n        doError(path);\n        (0, _babelHelperExplodeClass2.default)(path);\n\n        var ref = path.node.id;\n        var nodes = [];\n\n        nodes = nodes.concat(transformClass(path, ref, this).map(function (expr) {\n          return t.expressionStatement(expr);\n        }));\n        nodes.push(t.expressionStatement(ref));\n\n        path.insertAfter(nodes);\n      },\n      ObjectExpression: function ObjectExpression(path) {\n        if (!hasDecorators(path)) return;\n        doError(path);\n      }\n    }\n  };\n};\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar _babelHelperExplodeClass = require(\"babel-helper-explode-class\");\n\nvar _babelHelperExplodeClass2 = _interopRequireDefault(_babelHelperExplodeClass);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar buildClassDecorator = (0, _babelTemplate2.default)(\"\\n  CLASS_REF = DECORATOR(CLASS_REF) || CLASS_REF;\\n\");\n\nmodule.exports = exports[\"default\"];"]}