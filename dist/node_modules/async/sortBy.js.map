{"version":3,"sources":["../../../node_modules/async/sortBy.js"],"names":["Object","defineProperty","exports","value","default","sortBy","_arrayMap","require","_arrayMap2","_interopRequireDefault","_baseProperty","_baseProperty2","_map","_map2","obj","__esModule","coll","iteratee","callback","x","err","criteria","results","sort","comparator","left","right","a","b","module"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;AAGAD,QAAQE,OAAR,GAAkBC,MAAlB;;AAEA,IAAIC,YAAYC,QAAQ,kBAAR,CAAhB;;AAEA,IAAIC,aAAaC,uBAAuBH,SAAvB,CAAjB;;AAEA,IAAII,gBAAgBH,QAAQ,sBAAR,CAApB;;AAEA,IAAII,iBAAiBF,uBAAuBC,aAAvB,CAArB;;AAEA,IAAIE,OAAOL,QAAQ,OAAR,CAAX;;AAEA,IAAIM,QAAQJ,uBAAuBG,IAAvB,CAAZ;;AAEA,SAASH,sBAAT,CAAgCK,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEV,SAASU,GAAX,EAArC;AAAwD;;AAE/F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,SAAST,MAAT,CAAgBW,IAAhB,EAAsBC,QAAtB,EAAgCC,QAAhC,EAA0C;AACtC,KAAC,GAAGL,MAAMT,OAAV,EAAmBY,IAAnB,EAAyB,UAAUG,CAAV,EAAaD,QAAb,EAAuB;AAC5CD,iBAASE,CAAT,EAAY,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AACjC,gBAAID,GAAJ,EAAS,OAAOF,SAASE,GAAT,CAAP;AACTF,qBAAS,IAAT,EAAe,EAAEf,OAAOgB,CAAT,EAAYE,UAAUA,QAAtB,EAAf;AACH,SAHD;AAIH,KALD,EAKG,UAAUD,GAAV,EAAeE,OAAf,EAAwB;AACvB,YAAIF,GAAJ,EAAS,OAAOF,SAASE,GAAT,CAAP;AACTF,iBAAS,IAAT,EAAe,CAAC,GAAGV,WAAWJ,OAAf,EAAwBkB,QAAQC,IAAR,CAAaC,UAAb,CAAxB,EAAkD,CAAC,GAAGb,eAAeP,OAAnB,EAA4B,OAA5B,CAAlD,CAAf;AACH,KARD;;AAUA,aAASoB,UAAT,CAAoBC,IAApB,EAA0BC,KAA1B,EAAiC;AAC7B,YAAIC,IAAIF,KAAKJ,QAAb;AAAA,YACIO,IAAIF,MAAML,QADd;AAEA,eAAOM,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAY,CAAhC;AACH;AACJ;AACDC,OAAO3B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"sortBy.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = sortBy;\n\nvar _arrayMap = require('lodash/_arrayMap');\n\nvar _arrayMap2 = _interopRequireDefault(_arrayMap);\n\nvar _baseProperty = require('lodash/_baseProperty');\n\nvar _baseProperty2 = _interopRequireDefault(_baseProperty);\n\nvar _map = require('./map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A function to apply to each item in `coll`.\n * The iteratee is passed a `callback(err, sortValue)` which must be called once\n * it has completed with an error (which can be `null`) and a value to use as\n * the sort criteria. Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy(coll, iteratee, callback) {\n    (0, _map2.default)(coll, function (x, callback) {\n        iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, { value: x, criteria: criteria });\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, (0, _arrayMap2.default)(results.sort(comparator), (0, _baseProperty2.default)('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria,\n            b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\nmodule.exports = exports['default'];"]}